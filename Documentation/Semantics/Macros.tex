% Names
\newcommand{\CSharp}{{\settoheight{\dimen0}{C}C\kern-.05em \resizebox{!}{\dimen0}{\raisebox{\depth}{\#}}}\xspace}
\newcommand{\SSharp}{{\settoheight{\dimen0}{S}S\kern-.05em \resizebox{!}{\dimen0}{\raisebox{\depth}{\#}}}\xspace}
\newcommand{\SafetySharp}{Safety\-Sharp\xspace}
\newcommand{\Scm}{\textsc{Scm}\xspace}
\newcommand{\DotNet}{\textsc{.Net}\xspace}
\newcommand{\Fil}{\textsc{Fil}\xspace}
\newcommand{\Fm}{\textsc{Fm}\xspace}

% Domains
\newcommand{\Bool}{\mathbb{B}}
\newcommand{\Integer}{\mathbb{Z}}
\newcommand{\Var}{\mathit{Var}}
\newcommand{\Uop}{\mathit{UnaryOp}}
\newcommand{\Bop}{\mathit{BinaryOp}}
\newcommand{\Expr}{\mathit{Expr}}
\newcommand{\StmFil}{\mathit{Stm}_\Fil}
\newcommand{\StmFm}{\mathit{Stm}_\Fm}
\newcommand{\Prog}{\mathit{Prog}}
\newcommand{\GuardedCmd}{\mathit{GrdCmd}}
\newcommand{\VarEnvFil}{\Sigma_\Fil}
\newcommand{\VarEnvFm}{\Sigma_\Fm}
\newcommand{\FieldEnv}{\Phi}
\newcommand{\FieldEnvCurried}{\Phi\urcorner}
\newcommand{\FaultEnv}{\Delta}
\newcommand{\FaultEnvCurried}{\Delta\urcorner}
\newcommand{\Val}{\mathit{Value}}
\newcommand{\stmArrowFil}{\rightarrow_{\Fil}}
\newcommand{\stmArrowFm}{\xrightarrow{\compDecl}_\Fm}
\newcommand{\Type}{\mathit{Type}}
\newcommand{\Field}{\mathit{FieldVar}}
\newcommand{\Local}{\mathit{Local}}
\newcommand{\ReqPort}{\mathit{ReqPort}}
\newcommand{\ProvPort}{\mathit{ProvPort}}
\newcommand{\Comp}{\mathit{Comp}}
\newcommand{\BindingDecl}{\mathit{BndDecl}}
\newcommand{\Procedure}{\mathit{Proc}}
\newcommand{\VarDecl}{\mathit{VarDecl}}
\newcommand{\FieldDecl}{\mathit{FieldDecl}}
\newcommand{\ReqPortDecl}{\mathit{ReqPortDecl}}
\newcommand{\ProvPortDecl}{\mathit{ProvPortDecl}}
\newcommand{\FaultDecl}{\mathit{FaultDecl}}
\newcommand{\CompDecl}{\mathit{CompDecl}}
\newcommand{\BindingSrc}{\mathit{BndSrc}}
\newcommand{\BindingTarget}{\mathit{BndTarget}}
\newcommand{\BindingType}{\mathit{BndType}}
\newcommand{\Fault}{\mathit{Fault}}
\newcommand{\FaultExpr}{\mathit{FaultExpr}}
\newcommand{\Behavior}{\mathit{Behavior}}

% Meta variables
\newcommand{\bool}{b}
\newcommand{\integer}{z}
\newcommand{\var}{v}
\newcommand{\uop}{\mathit{uop}}
\newcommand{\bop}{\mathit{bop}}
\newcommand{\expr}{e}
\newcommand{\stmFil}{S}
\newcommand{\stmFm}{S}
\newcommand{\prog}{P}
\newcommand{\guardedCmd}{G}
\newcommand{\varEnvFil}{\sigma}
\newcommand{\varEnvFm}{\varsigma}
\newcommand{\varEnvFmEmpty}{\varEnvFm_{{}_\failure}}
\newcommand{\fieldEnv}{\varphi}
\newcommand{\faultEnv}{\delta}
\newcommand{\fieldEnvOld}{\varphi_p}
\newcommand{\fieldEnvCurried}{\phi}
\newcommand{\faultEnvCurried}{\delta}
\newcommand{\fieldEnvEmpty}{\fieldEnv_{{}_\failure}}
\newcommand{\faultEnvEmpty}{\delta_{{}_\failure}}
\newcommand{\val}{\nu}
\newcommand{\emptyList}{\varepsilon}
\newcommand{\type}{\tau}
\newcommand{\field}{\mathit{f}}
\newcommand{\local}{l}
\newcommand{\reqPort}{r}
\newcommand{\provPort}{p}
\newcommand{\comp}{c}
\newcommand{\bindingDecl}{\mathit{B}}
\newcommand{\procedure}{\mathit{proc}}
\newcommand{\varDecl}{V}
\newcommand{\fieldDecl}{F}
\newcommand{\reqPortDecl}{R}
\newcommand{\provPortDecl}{P}
\newcommand{\faultDecl}{Flt}
\newcommand{\compDecl}{C}
\newcommand{\bindingSrc}{\mathit{bs}}
\newcommand{\bindingTarget}{\mathit{bt}}
\newcommand{\bindingType}{\mathtt{\rightarrowtail}}
\newcommand{\fault}{\mathit{flt}}
\newcommand{\faultExpr}{\mathit{fe}}
\newcommand{\behavior}{\mathit{bhv}}

%Expressions
\newcommand{\unaryExpr}[2]{#1 #2}
\newcommand{\binaryExpr}[3]{#2 #1 #3}
\newcommand{\prev}[1]{\mathtt{prev} \,#1}
\newcommand{\true}{\texttt{true}}
\newcommand{\false}{\texttt{false}}
\newcommand{\negateExprSym}{\texttt{!}}
\newcommand{\andExprSym}{\texttt{\&\&}}
\newcommand{\orExprSym}{\texttt{||}}
\newcommand{\geqExprSym}{\texttt{>=}}
\newcommand{\leqExprSym}{\texttt{<=}}
\newcommand{\greaterExprSym}{\texttt{>}}
\newcommand{\lessExprSym}{\texttt{<}}
\newcommand{\equalsExprSym}{\texttt{=}}
\newcommand{\plusExprSym}{\texttt{+}}
\newcommand{\minusExprSym}{\texttt{-}}
\newcommand{\multExprSym}{\texttt{*}}
\newcommand{\divExprSym}{\texttt{/}}
\newcommand{\modExprSym}{\texttt{\%}}
\newcommand{\notEqualsExprSym}{\texttt{!=}}
\newcommand{\negateExpr}[1]{\negateExprSym #1}
\newcommand{\andExpr}[2]{#1 \; \andExprSym \; #2}
\newcommand{\valSetExpr}[1]{ \texttt{\{} \; #1 \; \texttt{\}}}

% Statements
\newcommand{\skipStm}{\texttt{skip;}}
\newcommand{\assignVarStm}[2]{#1\; \texttt{=}\; #2 \texttt{;}}
\newcommand{\invokePort}[3]{#1 \texttt{(}\texttt{in:} \; #2, \texttt{inout:} \; #3\texttt{)} \texttt{;}}
\newcommand{\invokePortNoIn}[2]{#1 \texttt{(}\texttt{inout:} \; #2\texttt{)} \texttt{;}}
\newcommand{\invokePortNoInOut}[2]{#1 \texttt{(}\texttt{in:} \; #2\texttt{)} \texttt{;}}
\newcommand{\invokeBeh}[1]{#1 \texttt{()} \texttt{;}}
\newcommand{\seqStm}[2]{#1 \; #2}
\newcommand{\guardedArrow}{\texttt{=>}}
\newcommand{\guardedClause}[2]{#1 \; \guardedArrow \; #2}
\newcommand{\guardedStm}[1]{\texttt{choice} \; \blockStm{#1}} 
\newcommand{\blockStm}[1]{ \texttt{\{} \; #1 \; \texttt{\}}}
\newcommand{\stepStm}[1]{ \texttt{step} \; #1 \texttt{;}}
\newcommand{\localsStm}[1]{ \texttt{locals} \; \texttt{\{} \; #1 \; \texttt{\}}}

% Formal model
\newcommand{\varDeclSyn}[2]{#1 \; \texttt{:} \; #2 \texttt{;}}
\newcommand{\fieldDeclSyn}[3]{#1 \; \texttt{:} \; #2 \; \texttt{=} \; #3 \texttt{;}}
\newcommand{\reqPortDeclSyn}[3]{#1 \texttt{(}\texttt{in:} \; #2, \; \texttt{inout:} \; \; #3 \texttt{)} \texttt{;}}
\newcommand{\provPortDeclSyn}[4]{#1 \texttt{(}\texttt{in:} \; #2, \; \texttt{inout:} \; #3 \texttt{)} \; #4}
\newcommand{\instantBindingDeclSyn}[2]{#1 \; \texttt{=} \; #2 \texttt{;}}
\newcommand{\delayedBindingDeclSyn}[2]{#1 \; \texttt{=} \; \texttt{delayed} \; #2 \texttt{;}}
\newcommand{\qualifiedName}[2]{#1\texttt{.}#2}
\newcommand{\compDeclSyn}[9]{\texttt{component} \; #1 \; \texttt{\{} \; #2 \; #3 \; #4 \; #5 \; #6 \; #7 \; \texttt{\{} \; #8 \;
#9 \; \texttt{\}} \; \texttt{\}}}
\newcommand{\faultDeclSyn}[2]{\texttt{fault} \; #1 \; \texttt{\{} \; \texttt{step} \; #2 \; \texttt{\}}}

% Lifting
\newcommand{\failure}{\bot}
\newcommand{\missing}{\varepsilon}
\newcommand{\liftMissing}[1]{#1_\missing}
\newcommand{\liftFailure}[1]{#1_\failure}
\newcommand{\liftMissingFailure}[1]{#1_{\missing, \failure}}
\newcommand{\configurationFil}[1]{\langle #1 \rangle}
\newcommand{\configurationFm}[1]{\langle #1 \rangle}
\newcommand{\toList}[1]{#1^*}
\newcommand{\ToList}[1]{#1^*}
\newcommand{\toListNE}[1]{#1^+}
\newcommand{\ToListNE}[1]{#1^+}
\newcommand{\toSet}[1]{\hat{#1}}
\newcommand{\ToSet}[1]{\wp #1}

% Functions
\newcommand{\asSet}{\mathit{set}}
\newcommand{\ExprSem}[1]{\mathcal{E} \llbracket #1 \rrbracket}
\newcommand{\FaultExprSem}[1]{\mathcal{F} \llbracket #1 \rrbracket}
\newcommand{\StmSem}[1]{\mathcal{S} \llbracket #1 \rrbracket}
\newcommand{\ProgSem}[1]{\mathcal{P} \llbracket #1 \rrbracket}
\newcommand{\cons}{\circ}
\newcommand{\unionCons}{\bullet}
\newcommand{\varof}{\mathit{var}}
\newcommand{\fieldof}{\mathit{field}}
\newcommand{\nameof}{\mathit{name}}
\newcommand{\typeof}{\mathit{type}}
\newcommand{\signature}{\mathit{sig}}
\newcommand{\inputs}{\mathit{in}}
\newcommand{\outputs}{\mathit{out}}
\newcommand{\locals}{\mathit{loc}}
\newcommand{\stmof}{\mathit{stm}}
\newcommand{\behaviorof}{\mathit{behavior}}
\newcommand{\faultof}{\mathit{fault}}
\newcommand{\req}{\mathit{req}}
\newcommand{\prov}{\mathit{prov}}
\newcommand{\delayed}{\mathit{delayed}}
\newcommand{\subsof}{\mathit{subs}}
\newcommand{\fields}{\mathit{fields}}
\newcommand{\compof}{\mathit{comp}}
\newcommand{\reqsof}{\mathit{reqs}}
\newcommand{\provsof}{\mathit{provs}}
\newcommand{\init}{\mathit{init}}
\newcommand{\defaultof}{\mathit{default}}
\newcommand{\boundof}{\mathit{bound}}
\newcommand{\faultField}{\mathit{field}}

% Values
\newcommand{\mkTuple}[1]{\left( #1 \right)}
\newcommand{\mkArray}[1]{\left[ #1 \right]}
\newcommand{\voidType}{\mathtt{void}}
\newcommand{\boolType}{\mathtt{bool}}
\newcommand{\intType}{\mathtt{int}}
\newcommand{\arrayType}[1]{#1\mathtt{[]}}
\newcommand{\tupleType}[1]{\left(#1\right)}

% Layout
\newcommand{\header}[1]{\addvspace{7pt}\textbf{{#1}}.}