% Names
\newcommand{\CSharp}{{\settoheight{\dimen0}{C}C\kern-.05em \resizebox{!}{\dimen0}{\raisebox{\depth}{\#}}}\xspace}
\newcommand{\SSharp}{{\settoheight{\dimen0}{S}S\kern-.05em \resizebox{!}{\dimen0}{\raisebox{\depth}{\#}}}\xspace}
\newcommand{\SafetySharp}{Safety\-Sharp\xspace}
\newcommand{\DotNet}{\textsc{.Net}\xspace}
\newcommand{\Fil}{\textsc{Fil}\xspace}
\newcommand{\Fm}{\textsc{Fm}\xspace}

% Domains
\newcommand{\Bool}{\mathbb{B}}
\newcommand{\Integer}{\mathbb{Z}}
\newcommand{\Var}{\mathit{Var}}
\newcommand{\Uop}{\mathit{UnaryOp}}
\newcommand{\Bop}{\mathit{BinaryOp}}
\newcommand{\Expr}{\mathit{Expr}}
\newcommand{\StmFil}{\mathit{Stm}_\Fil}
\newcommand{\StmFm}{\mathit{Stm}_\Fm}
\newcommand{\Prog}{\mathit{Prog}}
\newcommand{\GuardedCmd}{\mathit{GrdCmd}}
\newcommand{\VarEnvFil}{\Sigma_\Fil}
\newcommand{\VarEnvFm}{\Sigma_\Fm}
\newcommand{\FieldEnv}{\Phi}
\newcommand{\FieldEnvCurried}{\Phi\urcorner}
\newcommand{\Val}{\mathit{Value}}
\newcommand{\stmArrowFil}{\rightarrow_{\Fil}}
\newcommand{\stmArrowFm}{\xrightarrow{\compDecl}_\Fm}
\newcommand{\Type}{\mathit{Type}}
\newcommand{\Field}{\mathit{Field}}
\newcommand{\Local}{\mathit{Local}}
\newcommand{\ReqPort}{\mathit{ReqPort}}
\newcommand{\ProvPort}{\mathit{ProvPort}}
\newcommand{\Comp}{\mathit{Comp}}
\newcommand{\BindingDecl}{\mathit{BndDecl}}
\newcommand{\Procedure}{\mathit{Proc}}
\newcommand{\VarDecl}{\mathit{VarDecl}}
\newcommand{\FieldDecl}{\mathit{FieldDecl}}
\newcommand{\ReqPortDecl}{\mathit{ReqPortDecl}}
\newcommand{\ProvPortDecl}{\mathit{ProvPortDecl}}
\newcommand{\CompDecl}{\mathit{CompDecl}}
\newcommand{\BindingSrc}{\mathit{BndSrc}}
\newcommand{\BindingTarget}{\mathit{BndTarget}}
\newcommand{\BindingType}{\mathit{BndType}}

% Meta variables
\newcommand{\bool}{b}
\newcommand{\integer}{z}
\newcommand{\var}{v}
\newcommand{\uop}{\mathit{uop}}
\newcommand{\bop}{\mathit{bop}}
\newcommand{\expr}{e}
\newcommand{\stmFil}{S}
\newcommand{\stmFm}{S}
\newcommand{\prog}{P}
\newcommand{\guardedCmd}{G}
\newcommand{\varEnvFil}{\sigma}
\newcommand{\varEnvFm}{\varsigma}
\newcommand{\varEnvFmEmpty}{\varEnvFm_{{}_\failure}}
\newcommand{\fieldEnv}{\varphi}
\newcommand{\fieldEnvOld}{\varphi_p}
\newcommand{\fieldEnvCurried}{\phi}
\newcommand{\fieldEnvEmpty}{\fieldEnv_{{}_\failure}}
\newcommand{\val}{\nu}
\newcommand{\emptyList}{\varepsilon}
\newcommand{\type}{\tau}
\newcommand{\field}{f}
\newcommand{\local}{l}
\newcommand{\reqPort}{r}
\newcommand{\provPort}{p}
\newcommand{\comp}{c}
\newcommand{\bindingDecl}{\mathit{B}}
\newcommand{\procedure}{\mathit{proc}}
\newcommand{\varDecl}{V}
\newcommand{\fieldDecl}{F}
\newcommand{\reqPortDecl}{R}
\newcommand{\provPortDecl}{P}
\newcommand{\compDecl}{C}
\newcommand{\bindingSrc}{\mathit{bs}}
\newcommand{\bindingTarget}{\mathit{bt}}
\newcommand{\bindingType}{\mathtt{\rightarrowtail}}

%Expressions
\newcommand{\unaryExpr}[2]{#1 #2}
\newcommand{\binaryExpr}[3]{#2 #1 #3}
\newcommand{\prev}[1]{\mathtt{prev} \,#1}
\newcommand{\true}{\mathit{tt}}
\newcommand{\false}{\mathit{ff}}

% Statements
\newcommand{\skipStm}{\mathtt{skip}}
\newcommand{\assignVarStm}[2]{#1\; \mathtt{:=}\; #2}
\newcommand{\invokePort}[3]{#1 (#2; #3)}
\newcommand{\invokeBeh}[1]{#1 ()}
\newcommand{\seqStm}[2]{#1 \; \mathtt{;} \; #2}
\newcommand{\guardedClause}[2]{#1 \; \mathtt{\twoheadrightarrow} \; #2}
\newcommand{\guardedStm}[1]{(#1)^*}

% Formal model
\newcommand{\varDeclSyn}[2]{#1 \; \mathtt{:} \; #2}
\newcommand{\fieldDeclSyn}[3]{#1 \; \mathtt{:} \; #2 \; \mathtt{=} \; #3}
\newcommand{\reqPortDeclSyn}[3]{#1 \mathtt{(} #2 \; \mathtt{;} \; #3 \mathtt{)}}
\newcommand{\provPortDeclSyn}[5]{#1 \mathtt{(} #2 \; \mathtt{;} \; #3 \mathtt{) \; \{} \; #4 \; #5 \; \mathtt{\}}}
\newcommand{\bindingDeclSyn}[3]{#1 \; #3 \; #2}
\newcommand{\instantBinding}{\mathtt{\bindingType_i}}
\newcommand{\delayedBinding}{\mathtt{\bindingType_d}}
\newcommand{\qualifiedName}[2]{#1\mathtt{.}#2}
\newcommand{\compDeclSyn}[8]{\texttt{component} \; #1 \; \mathtt{\{} \; #2 \; #3 \; #4 \; #5 \; #6 \; \mathtt{\{} \; #7 \; #8 \;
\mathtt{\}} \; \mathtt{\}}}

% Lifting
\newcommand{\failure}{\bot}
\newcommand{\missing}{\varepsilon}
\newcommand{\liftMissing}[1]{#1_\missing}
\newcommand{\liftFailure}[1]{#1_\failure}
\newcommand{\liftMissingFailure}[1]{#1_{\missing, \failure}}
\newcommand{\configurationFil}[1]{\langle #1 \rangle}
\newcommand{\configurationFm}[1]{\langle #1 \rangle}
\newcommand{\toList}[1]{#1^*}
\newcommand{\ToList}[1]{#1^*}
\newcommand{\toListNE}[1]{#1^+}
\newcommand{\ToListNE}[1]{#1^+}
\newcommand{\toSet}[1]{\hat{#1}}
\newcommand{\ToSet}[1]{\wp #1}

% Functions
\newcommand{\asSet}{\mathit{set}}
\newcommand{\ExprSem}[1]{\mathcal{E} \llbracket #1 \rrbracket}
\newcommand{\StmSem}[1]{\mathcal{S} \llbracket #1 \rrbracket}
\newcommand{\ProgSem}[1]{\mathcal{P} \llbracket #1 \rrbracket}
\newcommand{\cons}{\circ}
\newcommand{\unionCons}{\bullet}
\newcommand{\varof}{\mathit{var}}
\newcommand{\fieldof}{\mathit{field}}
\newcommand{\nameof}{\mathit{name}}
\newcommand{\typeof}{\mathit{type}}
\newcommand{\signature}{\mathit{sig}}
\newcommand{\inputs}{\mathit{in}}
\newcommand{\outputs}{\mathit{out}}
\newcommand{\locals}{\mathit{loc}}
\newcommand{\stmof}{\mathit{stm}}
\newcommand{\req}{\mathit{req}}
\newcommand{\prov}{\mathit{prov}}
\newcommand{\delayed}{\mathit{delayed}}
\newcommand{\subsof}{\mathit{subs}}
\newcommand{\fields}{\mathit{fields}}
\newcommand{\compof}{\mathit{comp}}
\newcommand{\reqsof}{\mathit{reqs}}
\newcommand{\provsof}{\mathit{provs}}
\newcommand{\init}{\mathit{init}}
\newcommand{\defaultof}{\mathit{default}}
\newcommand{\boundof}{\mathit{bound}}

% Values
\newcommand{\mkTuple}[1]{\left( #1 \right)}
\newcommand{\mkArray}[1]{\left[ #1 \right]}
\newcommand{\voidType}{\mathtt{void}}
\newcommand{\boolType}{\mathtt{bool}}
\newcommand{\intType}{\mathtt{int}}
\newcommand{\arrayType}[1]{#1\mathtt{[]}}
\newcommand{\tupleType}[1]{\left(#1\right)}

% Layout
\newcommand{\header}[1]{\addvspace{7pt}\textbf{{#1}}.}